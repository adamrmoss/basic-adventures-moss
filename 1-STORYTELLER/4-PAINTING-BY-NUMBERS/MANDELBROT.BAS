100 REM --- MANDELBROT ---
110 REM -- INIT TIMER --
120 LET T1 = TI
130 LET S = 0

140 REM -- INIT GRAPHICS --
150 CLS: SCREEN 128
160 RECT 0, 0, 319, 239, 0
170 COLOR 6

180 REM -- INIT RENDER --
190 LET N = 15
200 LET OX = 2
210 LET OY = 1.5
220 LET OU = 80
230 LET L = 0
240 LET R = 319
250 LET T = 0
260 LET B = 239

270 REM -- RENDER LOOP --
280 GOSUB 770 REM TIMER
290 REM - DRAW TOP
300 LET Y = T
310 FOR X = L TO R
320 : GOSUB 600 REM PLOT
330 NEXT X
340 T = T + 1
350 GOSUB 770 REM TIMER
360 REM - DRAW RIGHT
370 LET X = R
380 FOR Y = T TO B
390 : GOSUB 600 REM PLOT
400 NEXT Y
410 R = R - 1
420 GOSUB 770 REM TIMER
430 REM - DRAW BOTTOM
440 LET Y = B
450 FOR X = R TO L STEP -1
460 : GOSUB 600 REM PLOT
470 NEXT X
480 B = B - 1
490 GOSUB 770 REM TIMER
500 REM - DRAW LEFT
510 LET X = L
520 FOR Y = B TO T STEP -1
530 : GOSUB 600 REM PLOT
540 NEXT Y
550 L = L + 1
560 GOSUB 770 REM TIMER
570 IF T < B AND L < R THEN GOTO 270
580 LOCATE 27
590 END

600 REM -- SUB - PLOT POINT --
610 LET X1 = X / OU - OX
620 LET XX = X1
630 LET Y1 = Y / OU - OY
640 LET YY = Y1
650 LET X2 = XX * XX
660 LET Y2 = YY * YY
670 LET IT = 0
680 IF (IT = N) OR (X2 + Y2 > 4) THEN GOTO 750
690 LET YY = 2 * XX * YY + Y1
700 LET XX = X2 - Y2 + X1
710 LET X2 = XX * XX
720 LET Y2 = YY * YY
730 LET IT = IT + 1
740 GOTO 680
750 PSET X, Y, IT
760 RETURN

770 REM -- SUB - UPDATE TIMER --
780 LET T2 = TI
790 LET DS = INT((T2 - T1) / 60)
800 S = S + DS
810 T1 = T1 + DS * 60
820 LOCATE 15, 9
830 PRINT S; " SECONDS"
840 RETURN
